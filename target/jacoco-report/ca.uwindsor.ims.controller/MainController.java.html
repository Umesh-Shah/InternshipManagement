<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MainController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Internship Management System</a> &gt; <a href="index.source.html" class="el_package">ca.uwindsor.ims.controller</a> &gt; <span class="el_source">MainController.java</span></div><h1>MainController.java</h1><pre class="source lang-java linenums">package ca.uwindsor.ims.controller;

import java.io.IOException;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;
import java.util.Map;
import java.util.Properties;
import java.util.LinkedHashMap;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;
import org.springframework.web.servlet.mvc.support.RedirectAttributes;

import jakarta.mail.Message;
import jakarta.mail.Session;
import jakarta.mail.Transport;
import jakarta.mail.internet.InternetAddress;
import jakarta.mail.internet.MimeMessage;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.http.HttpSession;
import jakarta.validation.Valid;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import com.google.gson.Gson;
import org.eclipse.angus.mail.smtp.SMTPTransport;

import ca.uwindsor.ims.model.*;
import ca.uwindsor.ims.service.*;

@Controller
<span class="fc" id="L42">public class MainController {</span>
	
<span class="fc" id="L44">	private static final Logger log = LogManager.getLogger(MainController.class);</span>
	
	
	/*
	 * Injecting dependencies - Data Access Objects (Service Layer)
	 */
	
	@Autowired
	private CommonService commonService;
	
	@Autowired
	private CompanyService companyService;
	
	@Autowired
	private InternshipService internshipService;
	
	@Autowired
	private JobService jobService;
	
	@Autowired
	private RegLoginService regLoginService;
	
	@Autowired
	private ReportService reportService;
	
	@Autowired
	private SkillService skillService;
	
	@Autowired
	private StudentService studentService;
	
	
	/**
	 * Delegate Methods 
	 * Getters and Setters  
	 */
	public CommonService getCommonService() {
<span class="nc" id="L81">		return commonService;</span>
	}

	public void setCommonService(CommonService commonService) {
<span class="nc" id="L85">		this.commonService = commonService;</span>
<span class="nc" id="L86">	}</span>

	public CompanyService getCompanyService() {
<span class="nc" id="L89">		return companyService;</span>
	}

	public void setCompanyService(CompanyService companyService) {
<span class="nc" id="L93">		this.companyService = companyService;</span>
<span class="nc" id="L94">	}</span>

	public InternshipService getInternshipService() {
<span class="nc" id="L97">		return internshipService;</span>
	}

	public void setInternshipService(InternshipService internshipService) {
<span class="nc" id="L101">		this.internshipService = internshipService;</span>
<span class="nc" id="L102">	}</span>

	public JobService getJobService() {
<span class="nc" id="L105">		return jobService;</span>
	}

	public void setJobService(JobService jobService) {
<span class="nc" id="L109">		this.jobService = jobService;</span>
<span class="nc" id="L110">	}</span>

	public RegLoginService getRegLoginService() {
<span class="nc" id="L113">		return regLoginService;</span>
	}

	public void setRegLoginService(RegLoginService regLoginService) {
<span class="nc" id="L117">		this.regLoginService = regLoginService;</span>
<span class="nc" id="L118">	}</span>

	public ReportService getReportService() {
<span class="nc" id="L121">		return reportService;</span>
	}

	public void setReportService(ReportService reportService) {
<span class="nc" id="L125">		this.reportService = reportService;</span>
<span class="nc" id="L126">	}</span>

	public SkillService getSkillService() {
<span class="nc" id="L129">		return skillService;</span>
	}

	public void setSkillService(SkillService skillService) {
<span class="nc" id="L133">		this.skillService = skillService;</span>
<span class="nc" id="L134">	}</span>

	public StudentService getStudentService() {
<span class="nc" id="L137">		return studentService;</span>
	}

	public void setStudentService(StudentService studentService) {
<span class="nc" id="L141">		this.studentService = studentService;</span>
<span class="nc" id="L142">	}</span>

<span class="fc" id="L144">	DateFormat dateandtime = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);</span>

<span class="fc" id="L146">	DateFormat date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);</span>
	
	
	public static final String MODEL_ATTRIBUTE_LIST = &quot;lst&quot;;
	public static final String VIEW_ADMIN_MAIN = &quot;internship/admin/admin_welcome&quot;;
	
	
	
	@RequestMapping(value = &quot;/goHome&quot;)
	public String goHome(HttpServletRequest request) {
<span class="nc" id="L156">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L157">		HttpSession session = request.getSession();</span>
		/*if(null!=session.getAttribute(&quot;admin&quot;)){
			return &quot;redirect:donationForm.htm&quot;;
		}*/
<span class="nc" id="L161">		request.setAttribute(&quot;filename&quot;, &quot;content&quot;);</span>
<span class="nc" id="L162">		log.info(&quot;-END--&quot;);</span>
<span class="nc" id="L163">		return &quot;welcome&quot;;</span>
	}
	
	@RequestMapping(value = &quot;/loadlogin&quot;)
	public String loadlogin(HttpServletRequest request,Model model) {
<span class="nc" id="L168">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L169">		model.addAttribute(&quot;login&quot;, new Login());</span>
<span class="nc" id="L170">		request.setAttribute(&quot;filename&quot;, &quot;login&quot;);</span>
<span class="nc" id="L171">		return &quot;welcome&quot;;</span>
	}
	
	@RequestMapping(value = &quot;/login&quot;)
	public String login(HttpServletRequest request) {
<span class="nc" id="L176">		log.info(&quot;-START--&quot;);</span>
//		request.setAttribute(&quot;filename&quot;, &quot;content&quot;);
<span class="nc" id="L178">		return &quot;admin/adminwelcome&quot;;</span>
	}

	@RequestMapping(value = &quot;/aboutUs&quot;)
	public String aboutUs(HttpServletRequest request) {
<span class="nc" id="L183">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L184">		request.setAttribute(&quot;filename&quot;, &quot;aboutUs&quot;);</span>
<span class="nc" id="L185">		return &quot;welcome&quot;;</span>
	}
	
	@RequestMapping(value = &quot;/contact&quot;)
	public String contact(HttpServletRequest request) {
<span class="nc" id="L190">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L191">		request.setAttribute(&quot;filename&quot;, &quot;contact&quot;);</span>
<span class="nc" id="L192">		return &quot;welcome&quot;;</span>
	}
	
	@RequestMapping(value = &quot;/gallery&quot;)
	public String gallery(HttpServletRequest request) {
<span class="nc" id="L197">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L198">		request.setAttribute(&quot;filename&quot;, &quot;gallery&quot;);</span>
<span class="nc" id="L199">		return &quot;welcome&quot;;</span>
	}
	@RequestMapping(value = &quot;/logoutnow&quot;)
	public String logoutnow(HttpServletRequest request) {
<span class="nc" id="L203">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L204">		request.getSession().invalidate();</span>
<span class="nc" id="L205">		request.setAttribute(&quot;filename&quot;, &quot;content&quot;);</span>
<span class="nc" id="L206">		log.info(&quot;-END--&quot;);</span>
<span class="nc" id="L207">		return &quot;welcome&quot;;</span>
	}
	
	@RequestMapping(value = &quot;/trustees&quot;)
	public String trustees(HttpServletRequest request) {
<span class="nc" id="L212">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L213">		log.info(&quot;-END--+--&quot;);</span>
<span class="nc" id="L214">		request.setAttribute(&quot;filename&quot;, &quot;trustees&quot;);</span>
<span class="nc" id="L215">		return &quot;welcome&quot;;</span>
	}
	
	@RequestMapping(value = &quot;/checklogin&quot;, method = RequestMethod.POST)
	public String onLoginCheck(@ModelAttribute(&quot;Login&quot;) Login login, HttpServletRequest request, Model model) throws Exception {
<span class="nc" id="L220">		log.info(&quot;Validating login for user: {}&quot;, login.getLogin());</span>
<span class="nc" id="L221">		String username = login.getLogin();</span>
<span class="nc" id="L222">		String password = login.getXtxtKllFbbd3ES();</span>
		
<span class="nc bnc" id="L224" title="All 4 branches missed.">		if (username.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;admin&quot;)) {</span>
<span class="nc" id="L225">			model.addAttribute(&quot;login&quot;, new Login());</span>
<span class="nc" id="L226">			request.setAttribute(&quot;filename&quot;, &quot;company&quot;);</span>
<span class="nc" id="L227">			HttpSession session = request.getSession(true);</span>
<span class="nc" id="L228">			session.setAttribute(&quot;admin&quot;, &quot;admin&quot;);</span>
<span class="nc" id="L229">			return &quot;internship/admin/admin_welcome&quot;;</span>
		}
		
<span class="nc" id="L232">		LoginBo user = regLoginService.validateLogin(username, password);</span>
<span class="nc bnc" id="L233" title="All 2 branches missed.">		if (user != null) {</span>
<span class="nc" id="L234">			HttpSession session = request.getSession(true);</span>
<span class="nc" id="L235">			session.setAttribute(&quot;studentDtl&quot;, user);</span>
			
<span class="nc" id="L237">			List&lt;StudentInfoBo&gt; info = studentService.getstudentlistfromid(user.getStudentId());</span>
<span class="nc bnc" id="L238" title="All 2 branches missed.">			if (!info.isEmpty()) {</span>
<span class="nc" id="L239">				session.setAttribute(&quot;student&quot;, info.get(0).getFname() + &quot; &quot; + info.get(0).getLname());</span>
			}
			
<span class="nc" id="L242">			request.setAttribute(&quot;filename&quot;, &quot;main&quot;);</span>
<span class="nc" id="L243">			return &quot;internship/student/student_welcome&quot;;</span>
		}
		
<span class="nc" id="L246">		model.addAttribute(&quot;error&quot;, &quot;Invalid credentials&quot;);</span>
<span class="nc" id="L247">		request.setAttribute(&quot;filename&quot;, &quot;login&quot;);</span>
<span class="nc" id="L248">		return &quot;welcome&quot;;</span>
	}
		
	
	// Internship
	@RequestMapping(value=&quot;/savecompany&quot;)
	public String savecompany(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;AddCompany&quot;) @Valid CompanyBo companybo)throws Exception{
<span class="nc" id="L255">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L256">		System.out.println(companybo.getCity());</span>
<span class="nc" id="L257">		 commonService.saveDataComon(companybo);</span>
<span class="nc" id="L258">		request.setAttribute(&quot;filename&quot;, &quot;company&quot;);</span>
<span class="nc" id="L259">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L260">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	
	@RequestMapping(value=&quot;/saveSkill&quot;)
	public String saveSkill(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;AddSkill&quot;) @Valid SkillBo skillbo)throws Exception{
<span class="nc" id="L265">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
		
		
<span class="nc" id="L268">		commonService.saveDataComon(skillbo);</span>
<span class="nc" id="L269">		request.setAttribute(&quot;filename&quot;, &quot;Skills&quot;);</span>
<span class="nc" id="L270">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L271">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	@RequestMapping(value = &quot;/loadSkill&quot;)
	public String loadSkill(HttpServletRequest request) {
<span class="nc" id="L275">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L276">		request.setAttribute(&quot;filename&quot;, &quot;Skills&quot;);</span>
<span class="nc" id="L277">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/savejob&quot;)
	public String savejob(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;AddJob&quot;) @Valid JobBo jobbo)throws Exception{
<span class="nc" id="L281">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L282">		commonService.saveDataComon(jobbo);</span>
<span class="nc" id="L283">		 loadjob(request);</span>
<span class="nc" id="L284">		request.setAttribute(&quot;filename&quot;, &quot;add_job&quot;);</span>
<span class="nc" id="L285">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L286">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	@RequestMapping(value = &quot;/loadjob&quot;)
	public String loadjob(HttpServletRequest request) throws Exception {
<span class="nc" id="L290">		log.info(&quot;-START--&quot;);</span>
<span class="nc" id="L291">		List&lt;CompanyBo&gt; lst = companyService.getcompanylist();</span>
<span class="nc" id="L292">		System.out.println(lst.get(0).getCompany_name());</span>
<span class="nc" id="L293">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L294">		List&lt;SkillBo&gt; skill=skillService.getskilllist();</span>
<span class="nc" id="L295">		request.setAttribute(&quot;skill&quot;,skill);</span>
<span class="nc" id="L296">		request.setAttribute(&quot;filename&quot;, &quot;add_job&quot;);</span>
<span class="nc" id="L297">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/loadstudentForm&quot;)
	public String loadstudentForm(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L302">		System.out.println(&quot;in load student form&quot;);</span>
<span class="nc" id="L303">		model.addAttribute(&quot;common&quot;, new CommonDTO());</span>
<span class="nc" id="L304">		request.setAttribute(&quot;filename&quot;, &quot;student_info&quot;);</span>
<span class="nc" id="L305">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/saveDemo&quot;)
	public String saveDemo(HttpServletRequest request, RedirectAttributes redirect, @ModelAttribute(&quot;common&quot;) @Valid CommonDTO commondto) throws Exception {
<span class="nc" id="L309">		StudentEducationBo e = commondto.getEdu();</span>
<span class="nc" id="L310">		StudentInfoBo i = commondto.getInfo();</span>
<span class="nc" id="L311">		StudentCertificateBo certificatebo = commondto.getCerti();</span>
<span class="nc" id="L312">		StudentWorkBo work = commondto.getWork();</span>
<span class="nc" id="L313">		Integer stu_id = i.getStudent_id();</span>
		
		/**
		 * Registration Confirmation Email Trigger
		 */
		
<span class="nc" id="L319">		String email_id = i.getStu_email();</span>
<span class="nc" id="L320">		final String username = &quot;jay.raichandani05@gmail.com&quot;;</span>
<span class="nc" id="L321">		final String password = &quot;Mteverestjay1&quot;;</span>
		
<span class="nc" id="L323">		Properties props = System.getProperties();</span>
<span class="nc" id="L324">		props.put(&quot;mail.smtps.host&quot;,&quot;smtp.gmail.com&quot;);</span>
<span class="nc" id="L325">		props.put(&quot;mail.smtps.auth&quot;,&quot;true&quot;);</span>
<span class="nc" id="L326">		props.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);</span>
<span class="nc" id="L327">		Session session = Session.getInstance(props, null);</span>
<span class="nc" id="L328">		Message msg = new MimeMessage(session);</span>
<span class="nc" id="L329">		msg.setFrom(new InternetAddress(username));</span>
		
<span class="nc" id="L331">		msg.setRecipients(Message.RecipientType.TO,</span>
<span class="nc" id="L332">		InternetAddress.parse(email_id, false));</span>
<span class="nc" id="L333">		String fname=i.getFname();</span>
<span class="nc" id="L334">		String[] email_id1=email_id.split(&quot;@&quot;);</span>
<span class="nc" id="L335">		String upToNCharacters = email_id.substring(0, Math.min(email_id.length(), 4));</span>
   
<span class="nc" id="L337">		String stu_id1= String.valueOf(i.getStudent_id());</span>
<span class="nc" id="L338">		String stu_idPwd=stu_id1.substring(4,8);</span>
<span class="nc" id="L339">		msg.setSubject(&quot;Successfully Register&quot;);</span>
<span class="nc" id="L340">		msg.setText(&quot;Dear  &quot; +i.getFname()+&quot; &quot;+ i.getLname()+&quot;&quot;+</span>
		&quot;\n\n You are succesfully register in Internship Management System!&quot; +
		&quot;\n Your Username is  &quot;+fname+stu_idPwd+&quot;&quot;+&quot;And Password is &quot;+upToNCharacters+stu_idPwd+&quot;&quot;);
<span class="nc" id="L343">		msg.setSentDate(new Date());</span>
<span class="nc" id="L344">		SMTPTransport t =</span>
<span class="nc" id="L345">			(SMTPTransport)session.getTransport(&quot;smtps&quot;);</span>

<span class="nc" id="L347">		t.connect(&quot;smtp.gmail.com&quot;,username, password);</span>
<span class="nc" id="L348">		t.sendMessage(msg, msg.getAllRecipients());</span>
<span class="nc" id="L349">		System.out.println(&quot;Response: &quot; + t.getLastServerResponse());</span>
<span class="nc" id="L350">		t.close();</span>
	 
<span class="nc" id="L352">		studentService.savestudentinfo(i);</span>
<span class="nc" id="L353">		studentService.savestudentedu(e, stu_id);</span>
<span class="nc" id="L354">		studentService.savestucertificate(certificatebo, stu_id);</span>
<span class="nc" id="L355">		studentService.saveworkexp(work, stu_id);</span>
<span class="nc" id="L356">		StudentLoginBo loginbo = new StudentLoginBo();</span>
<span class="nc" id="L357">		loginbo.setUsername(email_id1[0]);</span>
<span class="nc" id="L358">		loginbo.setPwd(upToNCharacters+stu_idPwd);</span>
<span class="nc" id="L359">		loginbo.setFlag(&quot;Y&quot;);</span>
<span class="nc" id="L360">		loginbo.setUser_type(&quot;Student&quot;);</span>
<span class="nc" id="L361">		loginbo.setStudent_id(stu_id);</span>
<span class="nc" id="L362">		commonService.saveDataComon(loginbo);</span>
<span class="nc" id="L363">		request.setAttribute(&quot;filename&quot;, &quot;student_info&quot;);</span>
<span class="nc" id="L364">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/addcompany&quot;)
	public String addcompany(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L369">		System.out.println(&quot;in load student form&quot;);</span>
<span class="nc" id="L370">		request.setAttribute(&quot;filename&quot;, &quot;company&quot;);</span>
<span class="nc" id="L371">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}

	@RequestMapping(value=&quot;/joblist&quot;)
	public String joblist(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L376">		List&lt;JobBo&gt; lst = jobService.getjoblist();</span>
<span class="nc" id="L377">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L378">		HttpSession session = request.getSession(false);</span>
<span class="nc" id="L379">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L380">		int student_id=loginbo.getStudent_id();</span>
<span class="nc" id="L381">		List&lt;JobBo&gt; s= jobService.getstudentjoblist(student_id);</span>
<span class="nc" id="L382">		request.setAttribute(&quot;s&quot;, s);</span>
		
<span class="nc" id="L384">		request.setAttribute(&quot;filename&quot;, &quot;job_tab&quot;);</span>
<span class="nc" id="L385">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/jobInterest&quot;)
	public String jobInterest(HttpServletRequest request, Model model) throws Exception {
<span class="nc" id="L390">		String jobid = request.getParameter(&quot;job_id&quot;);</span>
<span class="nc" id="L391">		HttpSession session = request.getSession(false);</span>
<span class="nc" id="L392">		StudentLoginBo loginbo = (StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L393">		int student_id = loginbo.getStudent_id();</span>
<span class="nc" id="L394">		int i = Integer.parseInt(jobid);</span>
<span class="nc" id="L395">		Student_Job_mapping s = new Student_Job_mapping();</span>
<span class="nc" id="L396">		s.setJob_id(i);</span>
<span class="nc" id="L397">		s.setStudent_id(student_id);</span>
<span class="nc" id="L398">		commonService.saveDataComon(s);</span>
<span class="nc" id="L399">		System.out.println(student_id + &quot;ssss&quot; + jobid);</span>
<span class="nc" id="L400">		List&lt;JobBo&gt; lst = jobService.getjoblist();</span>
<span class="nc" id="L401">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L402">		List&lt;JobBo&gt; s1 = jobService.getstudentjoblist(student_id);</span>
<span class="nc" id="L403">		request.setAttribute(&quot;s&quot;, s1);</span>
<span class="nc" id="L404">		request.setAttribute(&quot;filename&quot;, &quot;job_tab&quot;);</span>
<span class="nc" id="L405">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/saveinternship&quot;)
	public String saveinternship(HttpServletRequest request, RedirectAttributes redirect, @ModelAttribute(&quot;AddInternship&quot;) @Valid InternshipTypeBo i) throws Exception {
<span class="nc" id="L409">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L410">		commonService.saveDataComon(i);</span>
<span class="nc" id="L411">		request.setAttribute(&quot;filename&quot;, &quot;add_internship&quot;);</span>
<span class="nc" id="L412">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L413">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}

	@RequestMapping(value=&quot;/loadinternship&quot;)
	public String loadinternship(HttpServletRequest request, Model model) throws Exception {
<span class="nc" id="L418">		request.setAttribute(&quot;filename&quot;, &quot;add_internship&quot;);</span>
<span class="nc" id="L419">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/student_report&quot;)
	public String student_report(HttpServletRequest request, Model model) throws Exception {
<span class="nc" id="L423">		List&lt;ReportlistBo&gt; year = reportService.getstudentyear();</span>
<span class="nc" id="L424">		request.setAttribute(&quot;year&quot;, year);</span>
<span class="nc" id="L425">		List&lt;ReportlistBo&gt; country = reportService.getstudentcountry();</span>
<span class="nc" id="L426">		request.setAttribute(&quot;country&quot;, country);</span>
<span class="nc" id="L427">		request.setAttribute(&quot;filename&quot;, &quot;search_report&quot;);</span>
<span class="nc" id="L428">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/internshp_type_report&quot;)
	public String internshp_type_report(HttpServletRequest request, Model model) throws Exception {
<span class="nc" id="L432">		List&lt;InternshipTypeBo&gt; i = internshipService.getinternshiplist();</span>
<span class="nc" id="L433">		request.setAttribute(&quot;i&quot;, i);</span>
<span class="nc" id="L434">		List&lt;StudentInfoBo&gt; li = studentService.getstudentinternshipwise();</span>
<span class="nc" id="L435">		request.setAttribute(&quot;list_internshiiipStu&quot;, li);</span>
<span class="nc" id="L436">		request.setAttribute(&quot;filename&quot;, &quot;search_internship_type&quot;);</span>
<span class="nc" id="L437">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/company_report&quot;)
	public String company_report(HttpServletRequest request, Model model) throws Exception {
<span class="nc" id="L441">		List&lt;CompanyBo&gt; lst = companyService.getcompanylist();</span>
<span class="nc" id="L442">		System.out.println(lst.get(0).getCompany_name());</span>
<span class="nc" id="L443">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L444">		request.setAttribute(&quot;filename&quot;, &quot;search_company&quot;);</span>
<span class="nc" id="L445">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/gpa_report&quot;)
	public String gpa_report(HttpServletRequest request, Model model) throws Exception{
		
<span class="nc" id="L451">		List&lt;ReportlistBo&gt; year=reportService.getstudentyear();</span>
<span class="nc" id="L452">		request.setAttribute(&quot;year&quot;, year);</span>
<span class="nc" id="L453">		List&lt;ReportlistBo&gt; country=reportService.getstudentcountry();</span>
<span class="nc" id="L454">		request.setAttribute(&quot;country&quot;, country);</span>
<span class="nc" id="L455">		List&lt;StudentGpaBo&gt; lst=studentService.getstudentavggpa();</span>
<span class="nc" id="L456">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L457">		 List&lt;ReportlistBo&gt; university=reportService.getuniversity();</span>
<span class="nc" id="L458">		 request.setAttribute(&quot;university&quot;, university);</span>
<span class="nc" id="L459">		 List&lt;ReportlistBo&gt; university_location=reportService.getuniversity_location();</span>
<span class="nc" id="L460">		 request.setAttribute(&quot;university_location&quot;, university_location);</span>
<span class="nc" id="L461">		request.setAttribute(&quot;filename&quot;, &quot;gpa._report&quot;);</span>
<span class="nc" id="L462">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/loadinternship_status&quot;)
	public String loadinternship_status(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L466">		List&lt;StudentInfoBo&gt; info=studentService.getallstudentdata();</span>
<span class="nc" id="L467">		request.setAttribute(MODEL_ATTRIBUTE_LIST, info);</span>
<span class="nc" id="L468">		request.setAttribute(&quot;filename&quot;, &quot;student_internshiplist&quot;);</span>
<span class="nc" id="L469">		return VIEW_ADMIN_MAIN;</span>
	}
	@RequestMapping(value=&quot;/insert_student_status&quot;)
	public String insert_student_status(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L473">		int studentid=Integer.parseInt(request.getParameter(&quot;student_id&quot;));</span>
<span class="nc" id="L474">		request.setAttribute(&quot;studentid&quot;, studentid);</span>
<span class="nc" id="L475">		List&lt;CompanyBo&gt; lst = companyService.getcompanylist();</span>
<span class="nc" id="L476">		System.out.println(lst.get(0).getCompany_name());</span>
<span class="nc" id="L477">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L478">		List&lt;JobBo&gt; lst1 = jobService.getjoblist();</span>
<span class="nc" id="L479">		request.setAttribute(&quot;lst1&quot;, lst1);</span>
<span class="nc" id="L480">		List&lt;InternshipTypeBo&gt; i=internshipService.getinternshiplist();</span>
<span class="nc" id="L481">		request.setAttribute(&quot;i&quot;, i);</span>
<span class="nc" id="L482">		request.setAttribute(&quot;filename&quot;, &quot;Student_internship_status&quot;);</span>
<span class="nc" id="L483">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/getjobfromcompanyajax&quot;)
	public void getjobfromcompanyajax(HttpServletRequest request,HttpServletResponse response, Model model) throws Exception{
<span class="nc" id="L487">		String company_id=(String)request.getParameter(&quot;company_id&quot;);</span>
		
<span class="nc" id="L489">		List&lt;JobBo&gt; lst=jobService.getjoblistfromcompany(company_id);</span>
<span class="nc" id="L490">		Map&lt;String, String&gt; ind = new LinkedHashMap&lt;String, String&gt;();</span>
<span class="nc bnc" id="L491" title="All 2 branches missed.">for(int i=0;i&lt;lst.size();i++)</span>
{
<span class="nc" id="L493">	String job_id=Integer.toString(lst.get(i).getJob_id());</span>
<span class="nc" id="L494">	ind.put(job_id, lst.get(i).getJob_position());</span>
}

<span class="nc" id="L497">String json=new Gson().toJson(ind);</span>
<span class="nc" id="L498">System.out.println(json);</span>
<span class="nc" id="L499">response.setContentType(&quot;application/json&quot;);</span>
<span class="nc" id="L500">response.setCharacterEncoding(&quot;UTF-8&quot;);</span>
<span class="nc" id="L501">response.getWriter().write(json);</span>
<span class="nc" id="L502">	}</span>
	@RequestMapping(value=&quot;/saveInternship_status&quot;)
	public String saveInternship_status(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;AddStudentInternship&quot;) @Valid StudentInternshipBo i)throws Exception{
<span class="nc" id="L505">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L506">		List&lt;CompanyBo&gt; lst = companyService.getcompanylist();</span>
<span class="nc" id="L507">		System.out.println(lst.get(0).getCompany_name());</span>
<span class="nc" id="L508">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L509">		List&lt;JobBo&gt; lst1 = jobService.getjoblist();</span>
<span class="nc" id="L510">		request.setAttribute(&quot;lst1&quot;, lst1);</span>
<span class="nc" id="L511">		List&lt;InternshipTypeBo&gt; is=internshipService.getinternshiplist();</span>
<span class="nc" id="L512">		request.setAttribute(&quot;i&quot;, is);</span>
<span class="nc" id="L513">		request.setAttribute(&quot;filename&quot;, &quot;Student_internship_status&quot;);</span>
<span class="nc" id="L514">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L515">		commonService.saveDataComon(i);</span>
<span class="nc" id="L516">		internshipService.updatestudent_status(i.getStudent_id(),i.getInternship_type());</span>
<span class="nc" id="L517">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	@RequestMapping(value=&quot;/saveInternship_status_company&quot;)
	public String saveInternship_status_company(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;AddStudentInternshipCompany&quot;) @Valid StudentInternshipBo i)throws Exception{
<span class="nc" id="L521">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L522">		i.setInternship_id(1);</span>
<span class="nc" id="L523">		List&lt;ApprovalStudentBo&gt; info=studentService.getstudentapprovedlist();</span>
<span class="nc" id="L524">		request.setAttribute(&quot;info&quot;, info);</span>
<span class="nc" id="L525">		request.setAttribute(&quot;filename&quot;,&quot;approval_student_list&quot;);</span>
<span class="nc" id="L526">		commonService.saveDataComon(i);</span>
<span class="nc" id="L527">		internshipService.updatestudent_status(i.getStudent_id(),i.getInternship_type());</span>
<span class="nc" id="L528">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	
	@RequestMapping(value=&quot;/searchreport&quot;)
	public String searchreport(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;SearchReport&quot;) @Valid ReportBo r)throws Exception{
<span class="nc" id="L533">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L534">		 List&lt;StudentInfoBo&gt; list=studentService.searchreport(r);</span>
<span class="nc" id="L535">		 request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L536">		request.setAttribute(&quot;filename&quot;, &quot;report_student_list&quot;);</span>
<span class="nc" id="L537">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L538">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	@RequestMapping(value=&quot;/searchemployers&quot;)
	public String searchemployers(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;Searchemployers&quot;) @Valid ReportBo r)throws Exception{
<span class="nc" id="L542">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L543">		 List&lt;CompanyBo&gt; list=companyService.searchreportcompany(r);</span>
<span class="nc" id="L544">		 request.setAttribute(&quot;employers_lst&quot;, list);</span>
<span class="nc" id="L545">		 System.out.println(list.size());</span>
<span class="nc" id="L546">		request.setAttribute(&quot;filename&quot;, &quot;search_report_employers&quot;);</span>
<span class="nc" id="L547">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L548">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	@RequestMapping(value=&quot;/searchinterntype&quot;)
	public String searchinterntype(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;Searchemployers&quot;) @Valid ReportBo r)throws Exception{
<span class="nc" id="L552">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L553">		 List&lt;StudentInfoBo&gt; list=studentService.searchinterntype_student(r);</span>
<span class="nc" id="L554">		 request.setAttribute(&quot;list_internshiiipStu&quot;, list);</span>
<span class="nc" id="L555">		 List&lt;InternshipTypeBo&gt; i=internshipService.getinternshiplist();</span>
<span class="nc" id="L556">			request.setAttribute(&quot;i&quot;, i);</span>
<span class="nc" id="L557">		 System.out.println(list.size());</span>
<span class="nc" id="L558">		request.setAttribute(&quot;filename&quot;, &quot;search_internship_type&quot;);</span>
<span class="nc" id="L559">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L560">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	@RequestMapping(value=&quot;/searchgpa&quot;)
	public String searchgpa(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;Searchgpa&quot;) @Valid ReportBo r)throws Exception{
<span class="nc" id="L564">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L565">		List&lt;ReportlistBo&gt; year=reportService.getstudentyear();</span>
<span class="nc" id="L566">		request.setAttribute(&quot;year&quot;, year);</span>
<span class="nc" id="L567">		List&lt;ReportlistBo&gt; country=reportService.getstudentcountry();</span>
<span class="nc" id="L568">		request.setAttribute(&quot;country&quot;, country);</span>
<span class="nc" id="L569">		 List&lt;StudentGpaBo&gt; lst=studentService.search_gpa(r);</span>
<span class="nc" id="L570">		 request.setAttribute(&quot;lst&quot;, lst);		</span>
<span class="nc" id="L571">		 List&lt;ReportlistBo&gt; university=reportService.getuniversity();</span>
<span class="nc" id="L572">		 request.setAttribute(&quot;university&quot;, university);</span>
<span class="nc" id="L573">		 List&lt;ReportlistBo&gt; university_location=reportService.getuniversity_location();</span>
<span class="nc" id="L574">		 request.setAttribute(&quot;university_location&quot;, university_location);</span>
<span class="nc" id="L575">		request.setAttribute(&quot;filename&quot;, &quot;gpa._report&quot;);</span>
<span class="nc" id="L576">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L577">		return &quot;internship/admin/admin_welcome&quot;;</span>
		}
	
	@RequestMapping(value=&quot;/student_skill&quot;)
	public String student_skill(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L582">		List&lt;SkillBo&gt; skill_list=skillService.getskilllist();</span>
<span class="nc" id="L583">		request.setAttribute(&quot;skill_list&quot;, skill_list);</span>
<span class="nc" id="L584">		request.setAttribute(&quot;filename&quot;,&quot;Student_skill&quot;);</span>
<span class="nc" id="L585">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/saveStudentskill&quot;)
	public String saveStudentskill(HttpServletRequest request, RedirectAttributes redirect, @ModelAttribute(&quot;StudentSkill&quot;) @Valid StudentSkillBo r) throws Exception {
<span class="nc" id="L589">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L590">		String[] skillIds = request.getParameterValues(&quot;student_id&quot;);</span>
<span class="nc" id="L591">		HttpSession session = request.getSession(false);</span>
<span class="nc" id="L592">		StudentLoginBo loginbo = (StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L593">		int studentId = loginbo.getStudent_id();</span>
		
		// Save each skill for the student
<span class="nc bnc" id="L596" title="All 2 branches missed.">		for (String skillId : skillIds) {</span>
<span class="nc" id="L597">			StudentSkillBo skill = new StudentSkillBo();</span>
<span class="nc" id="L598">			skill.setStudentId(studentId);</span>
<span class="nc" id="L599">			skill.setSkillId(Integer.parseInt(skillId));</span>
<span class="nc" id="L600">			skill.setSkillLevel(&quot;Intermediate&quot;); // Default level</span>
<span class="nc" id="L601">			commonService.saveDataComon(skill);</span>
		}
		
<span class="nc" id="L604">		List&lt;SkillBo&gt; skill_list = skillService.getskilllist();</span>
<span class="nc" id="L605">		request.setAttribute(&quot;skill_list&quot;, skill_list);</span>
<span class="nc" id="L606">		request.setAttribute(&quot;filename&quot;, &quot;Student_skill&quot;);</span>
<span class="nc" id="L607">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/student_basic_info&quot;)
	public String student_basic_info(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L612">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L614">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L615">		int student_id=loginbo.getStudent_id();</span>
<span class="nc" id="L616">		System.out.println(student_id);</span>
<span class="nc" id="L617">		List&lt;StudentInfoBo&gt; list=studentService.getstudentlistfromid(student_id);</span>
<span class="nc" id="L618">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L619">		request.setAttribute(&quot;filename&quot;,&quot;student_profile_info&quot;);</span>
<span class="nc" id="L620">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/student_edu&quot;)
	public String student_edu(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L625">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L627">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L628">		int student_id=loginbo.getStudent_id();</span>
<span class="nc" id="L629">		System.out.println(student_id);</span>
<span class="nc" id="L630">		List&lt;StudentEducationBo&gt; list=studentService.getstudentedulistfromid(student_id);</span>
<span class="nc" id="L631">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L632">		request.setAttribute(&quot;filename&quot;,&quot;student_edu_info&quot;);</span>
<span class="nc" id="L633">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/edit_education_info&quot;)
	public String edit_education_info(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;EditEdu&quot;) @Valid StudentEducationBo r)throws Exception{
<span class="nc" id="L638">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L639">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L641">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L642">		int student_id=loginbo.getStudent_id();</span>
<span class="nc" id="L643">		int id=r.getStu_edu_id();</span>
<span class="nc" id="L644">		r.setMajor(request.getParameter(&quot;major&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L645">		r.setDegree_gpa(request.getParameter(&quot;degree_gpa&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L646">		r.setDegree_type(request.getParameter(&quot;degree_type&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L647">		r.setUniversity(request.getParameter(&quot;university&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L648">		r.setUniversity_location(request.getParameter(&quot;university_location&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L649">		r.setMajor(request.getParameter(&quot;major&quot;+id+&quot;&quot;));</span>

<span class="nc" id="L651">		System.out.println(r.getMajor());</span>
<span class="nc" id="L652">		r.setStudent_id(student_id);</span>
<span class="nc" id="L653">		studentService.updateeducationinfo(r);</span>
<span class="nc" id="L654">		List&lt;StudentEducationBo&gt; list=studentService.getstudentedulistfromid(student_id);</span>
<span class="nc" id="L655">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L656">		request.setAttribute(&quot;filename&quot;, &quot;student_edu_info&quot;);</span>
<span class="nc" id="L657">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L658">		return &quot;internship/student/student_welcome&quot;;</span>
		}
	@RequestMapping(value=&quot;/student_certi&quot;)
	public String student_certi(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L662">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L664">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L665">		String student_id=loginbo.getStudent_id()+&quot;&quot;;</span>
<span class="nc" id="L666">		System.out.println(student_id);</span>
<span class="nc" id="L667">		List&lt;StudentCertificateBo&gt; list=studentService.getstudentcertilistfromid(student_id);</span>
<span class="nc" id="L668">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L669">		request.setAttribute(&quot;filename&quot;,&quot;student_certi_info&quot;);</span>
<span class="nc" id="L670">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/student_work&quot;)
	public String student_work(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L674">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L676">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L677">		String student_id=loginbo.getStudent_id()+&quot;&quot;;</span>
<span class="nc" id="L678">		List&lt;StudentWorkBo&gt; list=studentService.getstudentworklistfromid(student_id);</span>
<span class="nc" id="L679">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L680">		request.setAttribute(&quot;filename&quot;,&quot;student_work_info&quot;);</span>
<span class="nc" id="L681">		return &quot;internship/student/student_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/edit_certi_info&quot;)
	public String edit_certi_info(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;EditCerti&quot;) @Valid StudentCertificateBo r)throws Exception{
<span class="nc" id="L686">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L687">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L689">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L690">		String student_id=loginbo.getStudent_id()+&quot;&quot;;</span>
<span class="nc" id="L691">		int id=r.getCertificate_id();</span>
<span class="nc" id="L692">		r.setCertificate_title(request.getParameter(&quot;certificate_title&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L693">		r.setCertificate_body(request.getParameter(&quot;certificate_body&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L694">		r.setStudent_id(student_id);</span>
<span class="nc" id="L695">		studentService.updateCERTIcationinfo(r);</span>
<span class="nc" id="L696">		List&lt;StudentCertificateBo&gt; list=studentService.getstudentcertilistfromid(student_id);</span>
<span class="nc" id="L697">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L698">		request.setAttribute(&quot;filename&quot;, &quot;student_certi_info&quot;);</span>
<span class="nc" id="L699">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L700">		return &quot;internship/student/student_welcome&quot;;</span>
		}
	
	@RequestMapping(value=&quot;/edit_work_info&quot;)
	public String edit_work_info(HttpServletRequest request,RedirectAttributes redirect, @ModelAttribute(&quot;EditCerti&quot;) @Valid StudentWorkBo r)throws Exception{
<span class="nc" id="L705">		log.info(&quot;-START--&lt;&lt;&lt; &quot;);</span>
<span class="nc" id="L706">		HttpSession session = request.getSession(false);</span>

<span class="nc" id="L708">		StudentLoginBo loginbo=(StudentLoginBo)session.getAttribute(&quot;studentDtl&quot;);</span>
<span class="nc" id="L709">		int student_id=loginbo.getStudent_id();</span>
<span class="nc" id="L710">		String student_id1=student_id+&quot;&quot;;</span>
<span class="nc" id="L711">		int id=r.getStu_work_id();</span>
<span class="nc" id="L712">		r.setCompany(request.getParameter(&quot;company&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L713">		r.setCompany_location(request.getParameter(&quot;company_location&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L714">		r.setStart_date(request.getParameter(&quot;start_date&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L715">		r.setPosition(request.getParameter(&quot;position&quot;+id+&quot;&quot;));</span>
<span class="nc" id="L716">		r.setStudent_id(student_id);</span>
<span class="nc" id="L717">		studentService.updateworkcationinfo(r);</span>
		//List&lt;StudentCertificateBo&gt; list=employeeService.getstudentcertilistfromid(student_id);
<span class="nc" id="L719">		List&lt;StudentWorkBo&gt; list=studentService.getstudentworklistfromid(student_id1);</span>

<span class="nc" id="L721">		request.setAttribute(&quot;list&quot;, list);</span>
<span class="nc" id="L722">		request.setAttribute(&quot;filename&quot;, &quot;student_work_info&quot;);</span>
<span class="nc" id="L723">		System.out.println(request.getAttribute(&quot;filename&quot;));</span>
<span class="nc" id="L724">		return &quot;internship/student/student_welcome&quot;;</span>
		}
	
	@RequestMapping(value=&quot;/job_report&quot;)
	public String job_report(HttpServletRequest request, Model model) throws Exception{
<span class="nc" id="L729">		List&lt;CompanyBo&gt; lst = companyService.getcompanylist();</span>
<span class="nc" id="L730">		System.out.println(lst.get(0).getCompany_name());</span>
<span class="nc" id="L731">		request.setAttribute(&quot;lst&quot;, lst);</span>
		
<span class="nc" id="L733">		request.setAttribute(&quot;filename&quot;,&quot;job_report&quot;);</span>
<span class="nc" id="L734">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/getjobfromcompany&quot;)
	public String getjobfromcompany(HttpServletRequest request, Model model) throws Exception{
		
<span class="nc" id="L740">		String company_id=(String)request.getParameter(&quot;company_id&quot;);</span>
<span class="nc" id="L741">		List&lt;JobBo&gt; lst=jobService.getjoblistfromcompany(company_id);</span>

		
<span class="nc" id="L744">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L745">		request.setAttribute(&quot;filename&quot;,&quot;report_joblist&quot;);</span>
<span class="nc" id="L746">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/getstudentfromjjob&quot;)
	public String getstudentfromjjob(HttpServletRequest request, Model model) throws Exception{
		
<span class="nc" id="L752">		String job_id=(String)request.getParameter(&quot;job_id&quot;);</span>
<span class="nc" id="L753">		List&lt;StudentJobSkillbo&gt; lst=skillService.getstudentfromjjob(job_id);</span>
<span class="nc" id="L754">		HttpSession session = request.getSession(false);</span>
<span class="nc" id="L755">		session.setAttribute(&quot;job_id&quot;, job_id);</span>
<span class="nc" id="L756">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L757">		request.setAttribute(&quot;job_id&quot;, job_id);</span>
<span class="nc" id="L758">		request.setAttribute(&quot;filename&quot;,&quot;student_job_approval&quot;);</span>
<span class="nc" id="L759">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/job_approval&quot;)
	public String job_approval(HttpServletRequest request, Model model) throws Exception{
		
<span class="nc" id="L764">		String job_id=(String)request.getParameter(&quot;job_id&quot;);</span>
<span class="nc" id="L765">		List&lt;StudentJobSkillbo&gt; lst=skillService.getstudentfromjjob(job_id);</span>
<span class="nc" id="L766">		request.setAttribute(&quot;lst&quot;, lst);</span>
<span class="nc" id="L767">		String student_id=(String) request.getParameter(&quot;student_id&quot;);</span>
<span class="nc" id="L768">		jobService.updatestudentjobflag(job_id,student_id);</span>
<span class="nc" id="L769">		System.out.println(job_id+&quot;  &quot;+student_id);</span>
<span class="nc" id="L770">		request.setAttribute(&quot;filename&quot;,&quot;student_job_approval&quot;);</span>
<span class="nc" id="L771">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	@RequestMapping(value=&quot;/approved_student&quot;)
	public String approved_student(HttpServletRequest request, Model model) throws Exception{
		
<span class="nc" id="L776">		List&lt;ApprovalStudentBo&gt; info=studentService.getstudentapprovedlist();</span>
<span class="nc" id="L777">		request.setAttribute(&quot;info&quot;, info);</span>
<span class="nc" id="L778">		request.setAttribute(&quot;filename&quot;,&quot;approval_student_list&quot;);</span>
<span class="nc" id="L779">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
	
	@RequestMapping(value=&quot;/insert_company_student_status&quot;)
	public String insert_company_student_status(HttpServletRequest request, Model model) throws Exception{
		
<span class="nc" id="L785">		List&lt;ApprovalStudentBo&gt; info=studentService.getstudentapprovedlist();</span>
<span class="nc" id="L786">		request.setAttribute(&quot;info&quot;, info);</span>
<span class="nc" id="L787">		String job_id=(String)request.getParameter(&quot;job_id&quot;);</span>
<span class="nc" id="L788">		String student_id=(String)request.getParameter(&quot;student_id&quot;);</span>
<span class="nc" id="L789">		String company_id=(String)request.getParameter(&quot;company_id&quot;);</span>
<span class="nc" id="L790">		String company_name=(String)request.getParameter(&quot;company_name&quot;);</span>
<span class="nc" id="L791">		String job_position=(String)request.getParameter(&quot;job_position&quot;);</span>
		
<span class="nc" id="L793">		request.setAttribute(&quot;job_id&quot;, job_id);</span>
<span class="nc" id="L794">		request.setAttribute(&quot;company_id&quot;, company_id);</span>
<span class="nc" id="L795">		request.setAttribute(&quot;student_id&quot;, student_id);</span>
<span class="nc" id="L796">		request.setAttribute(&quot;company_name&quot;, company_name);</span>
<span class="nc" id="L797">		request.setAttribute(&quot;job_position&quot;, job_position);</span>

<span class="nc" id="L799">		request.setAttribute(&quot;filename&quot;,&quot;student_internship_status_company&quot;);</span>
<span class="nc" id="L800">		return &quot;internship/admin/admin_welcome&quot;;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>